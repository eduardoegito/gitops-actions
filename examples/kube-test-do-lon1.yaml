# cluster definition used by "kube-do-action" and "bootstrap-action"

# matches major semver version of the actions
version: 1
# name of the cluster
name: test-do-lon1
# cloud provider: [digitalocean|aws]
provider: digitalocean
# starts|stops the cluster: the action detect changes i.e. UP or DOWN
status: DOWN

# TODO add parameters to override CHART_NAME and NAMESPACE
bootstrap:
  # OPTIONAL: path from repository root
  # overrides values in the chart i.e. multi env/tenant/cloud
  # https://github.com/hckops/kube-template/tree/main/charts/argocd-config
  helmValueFile: charts/argocd-config/values-custom.yaml

digitalocean:
  # https://slugs.do-api.dev
  # https://www.digitalocean.com/try/new-pricing
  # https://docs.digitalocean.com/products/kubernetes/details/limits
  cluster:
    # number of nodes
    count: 1
    region: lon1
    size: s-1vcpu-2gb
    # TODO not implemented: currently is tagged automatically with the GitOps repository
    tags: []
    # OPTIONAL: version of kube
    version: latest
  network:
    # OPTIONAL
    domain:
      # WARNING: prefer adding/removing this manually
      # when true, adds/removes domain when the cluster is created/deleted
      managed: false
      name: example.com
    # OPTIONAL
    loadBalancer:
      # when true and the cluster is deleted, removes the load balancer associated to the domain name
      managed: true
